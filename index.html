<html>

<head>
	<title>Video & Audio</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Header -->
		<header id="header" class="alt">
			<span class="logo"><img src="images/logo.svg" alt="" /></span>
			<h1>Video & Audio</h1>
			<p>Un sitio simples para ver videos y escuchar musicas<br /> Twitter <a href="https://twitter.com/brainestd">@braianest</a>
				for
				<a>HTML5 </a>.</p>
		</header>

		<!-- Nav -->
		<nav id="nav">
			<ul>
				<li><a href="#intro" class="active">Introduction</a></li>
				<li><a href="#first">First Section</a></li>
				<li><a href="#second">Second Section</a></li>
				<li><a href="#cta">Get Started</a></li>
			</ul>
		</nav>

		<!-- Main -->
		<div id="main">

			<!-- Introduction -->
			<section id="intro" class="main">
				<div class="spotlight">
					<div class="content">
						<header class="major">
							<h2>Videos</h2>
						</header>
						<script type='text/javascript'>


							var videos = [{ src: 'video1.mp4' },
							{ src: 'video2.mp4' }, { src: 'video3.mp4' }
							];

							var vpath = 'video/';
							var indicevideos = 0;
							var loop = null;

							var audios = [{ src: 'audio1.mp3' },
							{ src: 'audio2.mp3' }, { src: 'audio3.mp3' }
							];
							var vpath = 'audio/';
							var indiceaudios = 0;
							var loop = null;


							window.onload = function () {

								var progbar = document.getElementById('progaudio');
								progbar.addEventListener('click', function (e) {
									var audio = document.getElementById('audio');
									audio.currentTime = ((e.clientX - progbar.offsetLeft) / progbar.offsetWidth) * audio.duration;
								}, false);


								var progbarv = document.getElementById('progvideo');
								progbarv.addEventListener('click', function (e) {
									var video = document.getElementById('video');
									video.currentTime = ((e.clientX - progbarv.offsetLeft) / progbarv.offsetWidth) * video.duration;
								}, false);
							}

							function nextvideo() {
								var video = document.getElementById('video');
								indicevideos++;
								if (indicevideos === videos.length) {
									indicevideos = 0;
								}
								video.src = vpath + videos[indicevideos].src;
								video.load();
								video.play();
							}
							function returnvideo() {
								var video = document.getElementById('video');
								indicevideos--;
								if (indicevideos === videos.length) {
									indicevideos = 0;
								}
								video.src = vpath + videos[indicevideos].src;
								video.load();
								video.play();
							}

							function playvideo() {
								var list = document.querySelectorAll('.playlist li');
								console.log(list[0]);
								list[0].setAttribute('style', 'color:black;font-weight:bold;font-style:italic');


								var video = document.getElementById('video');
								var title = document.getElementById('videotitle');

								if (video.src === "") {
									video.src = vpath + videos[indicevideos].src;
									title.innerHTML = videos[indicevideos].name;
									console.log(video);
								}
								video.play();

								setInterval(function () {
									var video = document.getElementById("video");
									var buffer = video.buffered.end(video.buffered.length - 1);
									//console.log(buffered);
									//console.log(buffered.end(0));
									//console.log(buffered.end(1));
									console.log('buffer  / duration');
									console.log(buffer + " / " + video.duration);
								}, 1000);
							}

							function pausevideo() {
								var video = document.getElementById('video');
								video.pause();
							}

							function stopvideo() {
								var video = document.getElementById('video');
								video.pause();
								video.currentTime = 0;
							}
							function setVideoTime() {
								var video = document.getElementById("video");
								var reprov = document.getElementById("reprov");
								var span = document.getElementById("current_video");

								video.currentTime = parseFloat(reprov.value) * video.duration;
								span.innerHTML = video.currentTime.toFixed(2) + "s";
							}

							function getVideoTime() {
								var video = document.getElementById("video");
								var reprov = document.getElementById("reprov");
								var span = document.getElementById("current_video");


								reprov.value = video.currentTime / video.duration;
								span.innerHTML = video.currentTime.toFixed(2) + "s";
								progressBar(video.currentTime, video.duration, 'progvideo');
							}

							function progressBar(current, total, idBar) {
								var progbarv = document.getElementById(idBar);
								var cprog = document.querySelector('#' + idBar + '>.currentprog');
								var percent = current / total;
								cprog.setAttribute('style', 'width:' + (progbarv.offsetWidth * percent) + 'px');
							}

							function setVideoVolume() {
								var video = document.getElementById('video');
								var volvideo = document.getElementById('vvideo');
								var vv = document.getElementById('vv');

								var vol = (parseFloat(volvideo.value) * 100).toFixed(1);
								video.volume = volvideo.value;//0-1
								vv.innerHTML = vol + "%";
							}

							function playaudio() {
								var audio = document.getElementById('audio');
								audio.play();
								loop = setInterval(getAudioTime, 1000);

							}

							function pauseaudio() {
								var audio = document.getElementById('audio');
								audio.pause();
								clearInterval(loop);
							}

							function pararaudio() {
								var audio = document.getElementById('audio');
								audio.pause();
								audio.currentTime = 0;
								clearInterval(loop);
							}
							function nextaudio() {
								var audio = document.getElementById('audio');
								indiceaudios++;
								if (indiceaudios === audios.length) {
									indiceaudios = 0;
								}
								audio.src = vpath + audios[indiceaudios].src;
								audio.load();
								audio.play();
							}
							function returnaudio() {
								var audio = document.getElementById('audio');
								indiceaudios--;
								if (indiceaudios === audios.length) {
									indiceaudios = 0;
								}
								audio.src = vpath + audios[indiceaudios].src;
								audio.load();
								audio.play();
							}

							function setAudioVolume() {
								var audio = document.getElementById('audio');
								var volaudio = document.getElementById('vaudio');
								var va = document.getElementById('va');
								var vol = (parseFloat(volaudio.value) * 100).toFixed(2);
								audio.volume = volaudio.value;//0-1
								va.innerHTML = vol + "%";
							}




							function setAudioTime() {
								var audio = document.getElementById("audio");
								var reproa = document.getElementById("reproa");
								var span = document.getElementById("current_audio");

								audio.currentTime = parseFloat(reproa.value) * audio.duration;
								span.innerHTML = audio.currentTime.toFixed(2) + "s";
							}

							function getAudioTime() {
								var audio = document.getElementById("audio");
								var reproa = document.getElementById("reproa");
								var span = document.getElementById("current_audio");


								reproa.value = audio.currentTime / audio.duration;
								span.innerHTML = audio.currentTime.toFixed(2) + "s";
								progressBar(audio.currentTime, audio.duration, 'progaudio');
							}

							function progressBar(current, total, idBar) {
								var progbar = document.getElementById(idBar);
								var cprog = document.querySelector('#' + idBar + '>.currentprog');
								var percent = current / total;
								cprog.setAttribute('style', 'width:' + (progbar.offsetWidth * percent) + 'px');
							}



						</script>
						<style>
							body {
								background: linear-gradient(black, red, black);
								color: white;
							}

							a {
								color: white;
							}

							video {
								border-style: solid;
								border-width: 5px;
								border-image: linear-gradient(red, black) 30;
								border-radius: 50px;
							}

							.progbar {
								background: rgb(56, 12, 218);
								width: 50%;
								height: 20px;
								margin: 0 auto;
							}

							.progbarv {
								background: rgb(81, 14, 204);
								width: 50%;
								height: 20px;
								margin: 0 auto;
							}

							.currentprog {
								background: red;
								width: 0px;
								height: 20px;
							}

							.vv2 {
								background: rgb(10, 64, 212);
								width: 0px;
								height: 20px;
							}
						</style>
						</head>

						<video id='video' width="600" height="400">
							<source src='video/video1.mp4' type="video/mp4" />
							<source src='video/video2.mp4' type="video/mp4" />
							<source src='video/video3.mp4' type="video/mp4" />
						</video>
						<br>
						<button onclick="playvideo()">PLAY</button>
						<button onclick="pausevideo()">PAUSE</button>
						<button onclick="stopvideo()">STOP</button>
						<button onclick="returnvideo()">RETURN</button>
						<button onclick="nextvideo()">NEXT</button>
						volume:<input id='vvideo' type="range" min="0" max="1" step="0.01" value="0.5" onchange='setVideoVolume()'><a id='vv'></a>

						</br>
						Reprodução:
						<input id="reprov" type="range" value="0" onchange="setVideoTime()" min="0" max="1" step="0.01" value="0.5">
						<span id="current_video"></span>
						<div id='progvideo' class="progbarv">
							<div class="currentprog"></div>
						</div>

						<header class="major">
							<h2>Musica</h2>
						</header>
						<audio id="audio">
							<source src="audio/audio1.mp3" type="audio/mp3">
						</audio>
						<a href="javascript:playaudio()"><i class="fa fa-2x fa-play"></i></a>
						<a href="javascript:pauseaudio()"><i class="fa fa-2x fa-pause"></i></a>
						<a href="javascript:pararaudio()"><i class="fa fa-2x fa-stop"></i></a>
						<button onclick="returnaudio()">RETURN</button>
						<button onclick="nextaudio()">NEXT</button>
						volume:<input id='vaudio' type="range" min="0" max="1" step="0.01" value="0.5" onchange='setAudioVolume()'><a id='va'></a>
						</br>
						Reprodução:
						<input id="reproa" type="range" value="0" onchange="setAudioTime()" min="0" max="1" step="0.01" value="0.5">
						<span id="current_audio"></span>
						<div id='progaudio' class="progbar">
							<div class="currentprog"></div>
						</div>

					</div>
			</section>

			<footer id="footer">
				<section>
					<h2>Información</h2>
					<p>Sitio dedicado a escuchar musicas y ver videos</p>
					<ul class="actions">
						<li><a href="#" class="button">Leer Mas</a></li>
					</ul>
				</section>
				<section>
					<h2>INFO</h2>
					<dl class="alt">
						<dt>Address</dt>
						<dd>Leandro Gomez &bull; Vivienda, 6 &bull; Uruguay</dd>
						<dt>Phone</dt>
						<dd>(598) 91 319-748</dd>
						<dt>Email</dt>
						<dd><a href="#">tecnibrah@gmail.com</a></dd>
					</dl>
					<ul class="icons">
						<li><a href="#" class="icon fa-twitter alt"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon fa-facebook alt"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon fa-instagram alt"><span class="label">Instagram</span></a></li>
						<li><a href="#" class="icon fa-github alt"><span class="label">GitHub</span></a></li>
						<li><a href="#" class="icon fa-dribbble alt"><span class="label">Dribbble</span></a></li>
					</ul>
				</section>
				<p class="copyright">&copy; Todos los derechos reservados Braian Ramos <a href="https://html5up.net">HTML5</a>.</p>
			</footer>

			</div>

			<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

</body>

</html>